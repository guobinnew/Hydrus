"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _behavior=require("./behavior"),_blackboard=_interopRequireDefault(require("./blackboard")),_utils=_interopRequireDefault(require("./utils")),_logger=_interopRequireDefault(require("./logger"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var BTEngine=function(){function t(e){_classCallCheck(this,t),this.$blackboard=new _blackboard.default(e.data),this.$decorators=e.decorators?e.decorators:{},this.$services=e.services?e.services:{},this.$tasks=e.tasks?e.tasks:{},this.timestamp=null}return _createClass(t,[{key:"load",value:function(e){e&&e.root?this.root=new _behavior.Behavior(null,e.root,this):_logger.default.error("BTEngine::load failed -- tree is invalid")}},{key:"tick",value:function(e){if(this.root){if(this.timestamp||(this.timestamp=_utils.default.lodash.now()),null==e){var t=_utils.default.lodash.now();e=t-this.timestamp,this.timestamp=t}this.root.update(e)}else _logger.default.error("BTEngine::tick failed -- root is null")}},{key:"reset",value:function(){this.root?(this.timestamp=null,this.root.reset()):_logger.default.error("BTEngine::reset failed -- root is null")}}]),t}();BTEngine.Status=_behavior.BehaviorStatus;var _default=BTEngine;exports.default=_default;